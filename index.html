<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BauMeister - Visionäre Sanierung & Renovierung</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome (v5 latest) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" xintegrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Custom Styles & Dark Mode -->
    <style>
        :root {
            --color-primary: 59 130 246; /* blue-500 */
            --color-primary-hover: 96 165 250; /* blue-400 */
            --color-secondary: 234 179 8; /* yellow-500 */
            --color-text: 209 213 219; /* gray-300 */
            --color-heading: 240 245 255; /* slate-100 */
            --color-bg: 10 17 36; /* Dark Navy */
            --color-bg-alt: 21 30 54; /* Slightly Lighter Navy */
            --color-border: 42 56 88; /* Subtle Border */
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: rgb(var(--color-bg));
            color: rgb(var(--color-text));
            transition: background-color 0.3s ease, color 0.3s ease;
            position: relative;
            overflow-x: hidden;
            cursor: none; /* Custom cursor */
        }

        #background-shader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Custom Cursor */
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid rgb(var(--color-heading));
            border-radius: 50%;
            left: 0;
            top: 0;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 9999;
            transition: width 0.2s, height 0.2s, border-color 0.2s, background-color 0.2s, transform 0.1s linear;
        }
        .cursor.hover {
            width: 40px;
            height: 40px;
            background-color: rgba(var(--color-primary), 0.2);
            border-color: rgb(var(--color-primary));
        }
        .cursor.grab {
             width: 40px;
             height: 40px;
             border-width: 3px;
             transform: translate(-50%, -50%) scale(0.8);
        }
        .cursor-dot {
            position: fixed;
            width: 4px;
            height: 4px;
            background-color: rgb(var(--color-primary));
            border-radius: 50%;
            left: 0;
            top: 0;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 9999;
        }
        body:hover > .cursor { opacity: 1; }
        body:hover > .cursor-dot { opacity: 1; }
        
        a, button, [role="button"], input, textarea {
            cursor: none;
        }

        .bg-main { background-color: transparent; }
        .bg-alt { background-color: rgb(var(--color-bg-alt)); }
        .text-main { color: rgb(var(--color-text)); }
        .text-heading { color: rgb(var(--color-heading)); }
        .border-main { border-color: rgb(var(--color-border)); }
        .accent-blue { background-color: rgb(var(--color-primary)); }
        .accent-blue-text { color: rgb(var(--color-primary)); }
        .accent-blue-border { border-color: rgb(var(--color-primary)); }
        .accent-blue:hover { background-color: rgb(var(--color-primary-hover)); }
        .accent-blue:disabled { background-color: rgb(var(--color-text)); cursor: not-allowed; }

        #header.scrolled nav {
            background-color: rgba(var(--color-bg-alt), 0.7);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border-bottom: 1px solid rgba(var(--color-border), 0.5);
        }
        #header nav {
            transition: all 0.3s ease-in-out;
        }

        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgb(var(--color-primary));
            transition: width 0.3s ease;
        }
        .nav-link.active::after, .nav-link:hover::after {
            width: 100%;
        }
        .nav-link.active, .nav-link:hover {
            color: rgb(var(--color-heading));
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1s cubic-bezier(0.165, 0.84, 0.44, 1), transform 1s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .service-card {
            width: 100%;
            height: 320px;
            perspective: 1200px;
        }
        .service-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            transform-style: preserve-3d;
        }
        .service-card:hover .service-card-inner {
            transform: rotateY(180deg);
        }
        .service-card-front, .service-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 0.75rem;
            border: 1px solid rgb(var(--color-border));
        }
        .service-card-front {
            background-color: rgb(var(--color-bg-alt));
        }
        .service-card-back {
            background-color: rgb(var(--color-primary));
            color: white;
            transform: rotateY(180deg);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .service-card .service-icon {
            transition: transform 0.3s ease-out;
        }
        .service-card:hover .service-icon {
            transform: scale(1.1);
        }
        
        #portfolio-slider-wrapper {
            cursor: none;
            overflow: hidden;
        }
        #portfolio-slider {
            display: flex;
            will-change: transform;
            padding-left: calc((100vw - var(--container-width, 1280px)) / 2);
            padding-right: calc((100vw - var(--container-width, 1280px)) / 2);
        }
        .portfolio-slide {
            flex-shrink: 0;
            width: 45vw;
            max-width: 600px;
            margin-right: 2rem;
            position: relative;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            aspect-ratio: 1.5 / 1;
        }
         @media (max-width: 1280px) {
             #portfolio-slider {
                 padding-left: 1.5rem;
                 padding-right: 1.5rem;
             }
         }
         @media (max-width: 768px) {
            .portfolio-slide { width: 80vw; }
        }
        .portfolio-slide-image {
            position: absolute;
            top: -10%; left: -10%;
            width: 120%; height: 120%;
            background-size: cover;
            background-position: center;
        }
        
        #portfolio-progress-bar {
            height: 2px;
            background-color: rgb(var(--color-border));
        }
        #portfolio-progress-indicator {
            height: 100%;
            width: 0%;
            background-color: rgb(var(--color-primary));
            transition: width 0.1s linear;
        }
        
        #blueprint-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 450px;
            position: relative;
            width: 100%;
        }
        #blueprint-canvas {
            max-width: 100%;
            height: auto;
            cursor: none;
        }
        
        .testimonial-slider-container { position: relative; }
        .testimonial-slider {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .testimonial-slide { flex: 0 0 100%; }
        @media (min-width: 768px) { .testimonial-slide { flex: 0 0 50%; } }
        @media (min-width: 1024px) { .testimonial-slide { flex: 0 0 33.3333%; } }

        .footer-container {
            position: relative;
            overflow: hidden;
        }
        .footer-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgb(var(--color-primary)), transparent);
            animation: footer-line-anim 5s linear infinite;
        }
        @keyframes footer-line-anim {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .footer-link { position: relative; transition: color 0.3s ease; }
        .footer-link:hover { color: rgb(var(--color-primary)); }
        .footer-link::after {
            content: ''; position: absolute; width: 100%; height: 1px;
            bottom: -2px; left: 0; background-color: rgb(var(--color-primary));
            transform: scaleX(0); transform-origin: center;
            transition: transform 0.3s ease-out;
        }
        .footer-link:hover::after { transform: scaleX(1); }
        .social-icons-footer a { transition: transform 0.3s ease, color 0.3s ease; }
        .social-icons-footer a:hover {
            transform: translateY(-3px) scale(1.1);
            color: rgb(var(--color-primary));
        }
        .modal { transition: opacity 0.3s ease-in-out; }
        .modal-content { transition: transform 0.3s ease-in-out; }
        .modal.open .modal-content { transform: scale(1) translateY(0); }
    </style>
</head>
<body class="text-main">
    <canvas id="background-shader"></canvas>
    <div class="cursor"></div>
    <div class="cursor-dot"></div>
    
    <header id="header" class="fixed top-0 left-0 right-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#hero" class="text-3xl font-bold text-heading tracking-wider">BAUMEISTER</a>
            <div id="main-nav" class="hidden lg:flex items-center space-x-8 font-semibold text-sm">
                <a href="#hero" data-scroll-to="hero" class="nav-link" data-translate="nav_home">Startseite</a>
                <a href="#services" data-scroll-to="services" class="nav-link" data-translate="nav_services">Leistungen</a>
                <a href="#portfolio" data-scroll-to="portfolio" class="nav-link" data-translate="nav_projects">Projekte</a>
                <a href="#about" data-scroll-to="about" class="nav-link" data-translate="nav_about">Über uns</a>
                <a href="#contact" data-scroll-to="contact" class="nav-link" data-translate="nav_contact">Kontakt</a>
            </div>
            <div class="hidden lg:flex items-center gap-4">
                 <button id="callback-modal-trigger" class="accent-blue text-white font-semibold px-5 py-2 rounded-lg shadow-lg transform hover:-translate-y-0.5 transition duration-300" data-translate="request_callback_btn">Rückruf anfordern</button>
                 <div class="lang-switcher flex items-center text-sm font-semibold bg-bg p-0.5 rounded-lg border border-main">
                    <button id="lang-de" class="px-2 py-1 rounded-md">DE</button>
                    <button id="lang-en" class="px-2 py-1 rounded-md">EN</button>
                </div>
            </div>
            <button id="mobile-menu-button" class="lg:hidden text-heading focus:outline-none" aria-label="Open mobile menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden lg:hidden bg-alt border-t border-main">
             <a href="#hero" class="block py-3 px-6 text-main hover:bg-main" data-translate="nav_home">Startseite</a>
             <a href="#services" class="block py-3 px-6 text-main hover:bg-main" data-translate="nav_services">Leistungen</a>
             <a href="#portfolio" class="block py-3 px-6 text-main hover:bg-main" data-translate="nav_projects">Projekte</a>
             <a href="#about" class="block py-3 px-6 text-main hover:bg-main" data-translate="nav_about">Über uns</a>
             <a href="#contact" class="block py-3 px-6 text-main hover:bg-main" data-translate="nav_contact">Kontakt</a>
             <div class="p-4">
                <button id="callback-modal-trigger-mobile" class="w-full accent-blue text-white font-semibold py-3 rounded-lg" data-translate="request_callback_btn">Rückruf anfordern</button>
             </div>
        </div>
    </header>

    <main>
        <section id="hero" class="relative pt-32 pb-20 lg:pt-48 lg:pb-28">
            <div class="absolute inset-0 overflow-hidden">
                <img id="hero-bg-img" class="w-full h-full object-cover opacity-50" alt="Modern interior design">
                <div class="absolute inset-0 bg-black/40"></div>
            </div>
            <div class="container mx-auto px-6 relative">
                <div class="max-w-3xl text-white">
                    <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-4 reveal" data-translate="hero_title">Qualität, die Räume schafft.</h1>
                    <p class="text-lg md:text-xl max-w-2xl mb-8 reveal text-gray-200" style="transition-delay: 150ms;" data-translate="hero_subtitle">Von der Vision bis zur Vollendung – wir sind Ihr Partner für anspruchsvolle Sanierungen und Renovierungen in ganz Österreich.</p>
                    <div class="flex flex-wrap gap-4 reveal" style="transition-delay: 300ms;">
                        <a href="#contact" class="accent-blue text-white font-semibold px-8 py-3 rounded-lg shadow-lg transform hover:-translate-y-1 transition duration-300" data-translate="hero_btn_1">Projekt anfragen</a>
                        <a href="#services" class="bg-white/10 backdrop-blur-sm text-white font-semibold px-8 py-3 rounded-lg transform hover:-translate-y-1 transition duration-300 border border-white/20" data-translate="hero_btn_2">Unsere Leistungen</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto">
                     <h2 class="text-3xl md:text-4xl font-bold text-heading mb-4 reveal" data-translate="services_title">Unsere Kernkompetenzen</h2>
                     <p class="text-lg mb-16 reveal" data-translate="services_subtitle">Wir verbinden traditionelles Handwerk mit modernster Technik, um erstklassige Ergebnisse zu garantieren.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="service-card reveal">
                        <div class="service-card-inner">
                            <div class="service-card-front flex flex-col justify-center items-center p-6 text-center">
                                <div class="w-16 h-16 bg-blue-900/50 accent-blue-text rounded-full flex items-center justify-center mb-6 service-icon"><i class="fas fa-drafting-compass fa-2x"></i></div>
                                <h3 class="text-xl font-bold text-heading" data-translate="service_1_title">Komplettsanierung</h3>
                            </div>
                            <div class="service-card-back"><p data-translate="service_1_desc"></p></div>
                        </div>
                    </div>
                    <div class="service-card reveal" style="transition-delay: 150ms;">
                         <div class="service-card-inner">
                            <div class="service-card-front flex flex-col justify-center items-center p-6 text-center">
                                <div class="w-16 h-16 bg-blue-900/50 accent-blue-text rounded-full flex items-center justify-center mb-6 service-icon"><i class="fas fa-home fa-2x"></i></div>
                                <h3 class="text-xl font-bold text-heading" data-translate="service_2_title">Wohnungsrenovierung</h3>
                            </div>
                            <div class="service-card-back"><p data-translate="service_2_desc"></p></div>
                        </div>
                    </div>
                    <div class="service-card reveal" style="transition-delay: 300ms;">
                        <div class="service-card-inner">
                            <div class="service-card-front flex flex-col justify-center items-center p-6 text-center">
                                <div class="w-16 h-16 bg-blue-900/50 accent-blue-text rounded-full flex items-center justify-center mb-6 service-icon"><i class="fas fa-building fa-2x"></i></div>
                                <h3 class="text-xl font-bold text-heading" data-translate="service_3_title">Gewerbebau</h3>
                            </div>
                            <div class="service-card-back"><p data-translate="service_3_desc"></p></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="portfolio" class="py-24 bg-alt overflow-hidden">
            <div class="container mx-auto px-6">
                <div class="reveal">
                    <h2 class="text-3xl md:text-4xl font-bold text-heading mb-4" data-translate="portfolio_title">Unsere Arbeit spricht für sich</h2>
                    <p class="text-lg mb-8 max-w-3xl" data-translate="portfolio_subtitle">Jedes Projekt ist eine Referenz unserer Leidenschaft für Qualität und Ästhetik. Entdecken Sie eine Auswahl unserer abgeschlossenen Arbeiten.</p>
                    <div id="portfolio-filter" class="flex flex-wrap gap-3 mb-8">
                        <button class="filter-btn font-semibold text-sm px-4 py-2 rounded-full transition-colors" data-filter="all" data-translate="filter_all">Alle</button>
                        <button class="filter-btn font-semibold text-sm px-4 py-2 rounded-full transition-colors" data-filter="houses" data-translate="filter_houses">Häuser</button>
                        <button class="filter-btn font-semibold text-sm px-4 py-2 rounded-full transition-colors" data-filter="apartments" data-translate="filter_apartments">Wohnungen</button>
                        <button class="filter-btn font-semibold text-sm px-4 py-2 rounded-full transition-colors" data-filter="offices" data-translate="filter_offices">Gewerbe</button>
                    </div>
                </div>
            </div>
            <div id="portfolio-slider-wrapper" class="reveal">
                <div id="portfolio-slider"></div>
            </div>
            <div class="container mx-auto px-6 mt-8">
                 <div id="portfolio-progress-bar" class="w-full">
                    <div id="portfolio-progress-indicator"></div>
                 </div>
            </div>
        </section>

        <section id="testimonials" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl md:text-4xl font-bold text-heading mb-4 reveal" data-translate="testimonials_title">Stimmen unserer Kunden</h2>
                </div>
                <div class="testimonial-slider-container overflow-hidden relative reveal mt-12">
                     <div id="testimonial-slider" class="testimonial-slider"></div>
                     <button id="prev-testimonial" aria-label="Previous testimonial" class="absolute top-1/2 -left-4 -translate-y-1/2 bg-alt p-2 rounded-full shadow-md hover:bg-bg transition z-10 hidden md:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                    <button id="next-testimonial" aria-label="Next testimonial" class="absolute top-1/2 -right-4 -translate-y-1/2 bg-alt p-2 rounded-full shadow-md hover:bg-bg transition z-10 hidden md:block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                </div>
            </div>
        </section>

        <section id="about" class="py-24 bg-alt">
             <div class="container mx-auto px-6">
                 <div class="grid lg:grid-cols-2 gap-12 items-center">
                    <div id="blueprint-container" class="reveal">
                        <canvas id="blueprint-canvas"></canvas>
                    </div>
                    <div class="reveal" style="transition-delay: 150ms;">
                        <h2 class="text-3xl md:text-4xl font-bold text-heading mb-6" data-translate="about_title">Unsere Philosophie</h2>
                        <p class="text-lg" data-translate="about_desc">Wir glauben, dass jedes Gebäude eine Geschichte erzählt. Unsere Mission ist es, diese Geschichten mit Respekt, Sorgfalt und höchster Handwerkskunst weiterzuschreiben. Unsere Kernwerte – Qualität, Pünktlichkeit und Transparenz – sind das Fundament jedes Projekts, das wir übernehmen.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="contact" class="py-24">
            <div class="container mx-auto px-6">
                 <div class="bg-alt p-8 md:p-12 rounded-lg shadow-xl max-w-4xl mx-auto reveal border border-main">
                    <div id="contact-form-wrapper">
                        <h2 class="text-3xl md:text-4xl text-heading font-bold text-center mb-2" data-translate="contact_title">Starten Sie Ihr Projekt</h2>
                        <p class="text-center mb-10" data-translate="contact_subtitle">Erzählen Sie uns von Ihrer Vision. Wir melden uns umgehend für eine kostenlose Erstberatung.</p>
                        <form id="main-contact-form" action="#" method="POST" novalidate>
                            <div class="grid md:grid-cols-2 gap-6 mb-5">
                                <input type="text" name="name" class="w-full p-4 bg-bg border-2 border-main rounded-md focus:border-blue-500 focus:ring-blue-500 transition placeholder-gray-400" data-translate="form_name_placeholder" placeholder="Ihr Name" required>
                                <input type="tel" name="phone" class="w-full p-4 bg-bg border-2 border-main rounded-md focus:border-blue-500 focus:ring-blue-500 transition placeholder-gray-400" data-translate="form_phone_placeholder" placeholder="Ihre Telefonnummer" required>
                            </div>
                            <div class="mb-5">
                                <textarea name="message" rows="5" class="w-full p-4 bg-bg border-2 border-main rounded-md focus:border-blue-500 focus:ring-blue-500 transition placeholder-gray-400" data-translate="form_message_placeholder" placeholder="Beschreiben Sie kurz Ihr Projekt..."></textarea>
                            </div>
                            <div class="text-center">
                                <button type="submit" class="w-full md:w-auto accent-blue text-white font-semibold py-3 px-10 rounded-lg shadow-lg transform hover:-translate-y-1 transition" data-translate="form_send_btn">Anfrage Senden</button>
                            </div>
                        </form>
                    </div>
                    <div id="contact-form-success" class="hidden text-center">
                        <h2 class="text-2xl font-bold mb-2 text-green-400" data-translate="contact_success_title">Vielen Dank!</h2>
                        <p data-translate="contact_success_msg">Ihre Nachricht wurde gesendet. Wir werden uns in Kürze bei Ihnen melden.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-alt text-main border-t border-main footer-container">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="md:col-span-2">
                    <h4 class="font-bold text-lg text-heading mb-4" data-translate="footer_about_title">BauMeister</h4>
                    <p class="text-sm max-w-md" data-translate="footer_about_desc">Ihr zuverlässiger Partner für Sanierung und Renovierung. Wir schaffen Qualität, der Sie vertrauen können.</p>
                </div>
                <div>
                     <h4 class="font-bold text-lg text-heading mb-4" data-translate="footer_links_title">Navigation</h4>
                     <ul class="space-y-2 text-sm">
                        <li><a href="#services" class="footer-link" data-translate="nav_services">Leistungen</a></li>
                        <li><a href="#portfolio" class="footer-link" data-translate="nav_projects">Projekte</a></li>
                        <li><a href="#about" class="footer-link" data-translate="nav_about">Über uns</a></li>
                        <li><a href="#contact" class="footer-link" data-translate="nav_contact">Kontakt</a></li>
                     </ul>
                </div>
                <div>
                     <h4 class="font-bold text-lg text-heading mb-4" data-translate="footer_contact_title">Kontakt</h4>
                     <ul class="space-y-2 text-sm">
                         <li><a href="tel:+436641234567" class="footer-link" data-translate="phone_number_footer">+43 664 1234567</a></li>
                         <li><a href="mailto:info@baumeister.at" class="footer-link" data-translate="email_footer">info@baumeister.at</a></li>
                         <li data-translate="address">Musterstraße 1, 1010 Wien</li>
                     </ul>
                </div>
            </div>
            <div class="mt-12 pt-8 border-t border-main flex flex-col md:flex-row justify-between items-center text-sm">
                <p data-translate="copyright">&copy; 2024 BauMeister. Alle Rechte vorbehalten.</p>
                <div class="social-icons-footer flex items-center gap-6 mt-4 md:mt-0 text-lg">
                    <a href="#" data-translate-aria="facebook_link_aria"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" data-translate-aria="instagram_link_aria"><i class="fab fa-instagram"></i></a>
                    <a href="#" data-translate-aria="telegram_link_aria"><i class="fab fa-telegram-plane"></i></a>
                </div>
            </div>
        </div>
    </footer>
    
    <div id="callback-modal" class="modal fixed inset-0 bg-black/60 z-[100] flex justify-center items-center p-4 hidden opacity-0">
        <div class="modal-content bg-alt rounded-lg shadow-2xl w-full max-w-md relative transform scale-95 -translate-y-10 border border-main">
            <button id="callback-modal-close" class="absolute top-3 right-4 text-gray-400 hover:text-white text-3xl transition-colors" aria-label="Close modal">&times;</button>
            <div class="p-8">
                <div id="callback-form-wrapper">
                    <h2 class="text-2xl font-bold text-heading text-center mb-2" data-translate="callback_modal_title">Kontakt & Rückruf</h2>
                    <p class="text-center mb-6" data-translate="callback_modal_subtitle">Wählen Sie Ihre bevorzugte Kontaktmethode.</p>
                    
                    <form id="callback-form" novalidate>
                        <h3 class="font-semibold text-heading mb-3" data-translate="callback_form_title">Rückruf anfordern (Österreich)</h3>
                        <div class="grid grid-cols-1 gap-4">
                            <input type="text" name="name" class="w-full p-3 bg-bg border-2 border-main rounded-md focus:border-blue-500 focus:ring-blue-500 transition placeholder-gray-400" data-translate="form_name_placeholder" placeholder="Ihr Name" required>
                            <div class="flex items-center border-2 border-main rounded-md focus-within:border-blue-500 transition bg-bg">
                               <span class="px-3 text-gray-400">+43</span>
                               <input type="tel" name="phone" class="w-full p-3 border-l border-main focus:ring-0 border-0 bg-transparent placeholder-gray-400" data-translate="form_phone_austria_placeholder" placeholder="664 1234567" required>
                            </div>
                            <button type="submit" class="w-full accent-blue text-white font-semibold py-3 px-10 rounded-lg shadow-lg transform hover:-translate-y-0.5 transition" data-translate="callback_form_btn">Rückruf anfordern</button>
                        </div>
                    </form>

                    <div class="my-6 flex items-center text-center">
                        <hr class="flex-grow border-main">
                        <span class="px-2 text-sm" data-translate="or_divider">ODER</span>
                        <hr class="flex-grow border-main">
                    </div>

                    <div>
                        <h3 class="font-semibold text-heading mb-3 text-center" data-translate="messenger_title">Direkt per Messenger schreiben</h3>
                        <div class="flex justify-center gap-4">
                            <a href="#" id="whatsapp-link" target="_blank" class="flex items-center justify-center gap-2 px-5 py-2 rounded-lg bg-green-500 text-white font-semibold transform hover:-translate-y-0.5 transition"><i class="fab fa-whatsapp"></i><span data-translate="whatsapp_btn">WhatsApp</span></a>
                            <a href="#" id="telegram-link" target="_blank" class="flex items-center justify-center gap-2 px-5 py-2 rounded-lg bg-sky-500 text-white font-semibold transform hover:-translate-y-0.5 transition"><i class="fab fa-telegram-plane"></i><span data-translate="telegram_btn">Telegram</span></a>
                        </div>
                    </div>
                </div>
                 <div id="callback-form-success" class="hidden text-center">
                    <h2 class="text-2xl font-bold mb-2 text-green-400" data-translate="callback_success_title">Danke!</h2>
                    <p data-translate="callback_success_msg">Ihre Rückrufanfrage wurde gesendet. Wir melden uns in Kürze!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat Widget -->
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/689f8e12372f611927382c29/1j2nk5uq4';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    
    <!-- App Logic -->
    <script>
        const siteConfig = {
            contact: {
                phone: "+436641234567", email: "info@baumeister.at", address: "Musterstraße 1, 1010 Wien",
                whatsappNumber: "436641234567", telegramUsername: "yourusername",
                social: { facebook: "#", instagram: "#", telegram: "#" }
            },
            assets: {
                heroBg: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop',
                portfolio: [
                    'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=800&auto=format&fit=crop', 'https://images.unsplash.com/photo-1529408632839-a549174db48c?q=80&w=800&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=800&auto=format&fit=crop', 'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=800&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1616046229478-9901c5536a45?q=80&w=800&auto=format&fit=crop', 'https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=800&auto=format&fit=crop',
                    'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=800&auto=format&fit=crop', 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=800&auto=format&fit=crop'
                ]
            },
            content: {
                de: {
                    page_title: "BauMeister - Visionäre Sanierung & Renovierung",
                    nav_home: "Startseite", nav_services: "Leistungen", nav_projects: "Projekte", nav_about: "Über uns", nav_contact: "Kontakt", request_callback_btn: "Rückruf anfordern",
                    hero_title: "Qualität, die Räume schafft.", hero_subtitle: "Von der Vision bis zur Vollendung – wir sind Ihr Partner für anspruchsvolle Sanierungen und Renovierungen in ganz Österreich.", hero_btn_1: "Projekt anfragen", hero_btn_2: "Unsere Leistungen",
                    services_title: "Unsere Kernkompetenzen", services_subtitle: "Wir verbinden traditionelles Handwerk mit modernster Technik, um erstklassige Ergebnisse zu garantieren.",
                    service_1_title: "Komplettsanierung", service_1_desc: "Ganzheitliche Modernisierung von Immobilien, von der Entkernung bis zum finalen Innenausbau.",
                    service_2_title: "Wohnungsrenovierung", service_2_desc: "Vom neuen Anstrich bis zur kompletten Neugestaltung einzelner Wohnbereiche oder ganzer Wohnungen.",
                    service_3_title: "Gewerbebau", service_3_desc: "Funktionale und repräsentative Umbauten für Büros, Praxen und Einzelhandelsflächen.",
                    portfolio_title: "Unsere Arbeit spricht für sich", portfolio_subtitle: "Jedes Projekt ist eine Referenz unserer Leidenschaft für Qualität und Ästhetik. Entdecken Sie eine Auswahl unserer abgeschlossenen Arbeiten.",
                    filter_all: "Alle", filter_houses: "Häuser", filter_apartments: "Wohnungen", filter_offices: "Gewerbe",
                    portfolio_items: [
                        { category: "houses", title: "Moderne Villa" }, { category: "apartments", title: "Dachgeschosswohnung" }, { category: "offices", title: "Start-up Büro" },
                        { category: "houses", title: "Bungalow am See" }, { category: "apartments", title: "Minimalistisches Loft" }, { category: "offices", title: "Kreativagentur" },
                        { category: "apartments", title: "Altbau-Charme" }, { category: "houses", title: "Landhaus Classic" }
                    ],
                    testimonials_title: "Stimmen unserer Kunden",
                    testimonials: [
                        { name: "Familie Huber", text: "Absolut professionell und zuverlässig. Unser Hausumbau war ein voller Erfolg!"},
                        { name: "M. Schmidt", text: "Das Ergebnis übertrifft alle Erwartungen. BauMeister hat unsere Wohnung in eine Oase verwandelt."},
                        { name: "Anna Wagner", text: "Kreativ, pünktlich und budgettreu. Die besten Handwerker, mit denen wir je gearbeitet haben."},
                        { name: "Dr. Eva Klein", text: "Der Umbau unserer Praxis lief reibungslos und termingerecht. Exzellente Arbeit!"},
                        { name: "Thomas Bauer", text: "Hervorragende Qualität und tolle Kommunikation während des gesamten Projekts."}
                    ],
                    about_title: "Unsere Philosophie", about_desc: "Wir glauben, dass jedes Gebäude eine Geschichte erzählt. Unsere Mission ist es, diese Geschichten mit Respekt, Sorgfalt und höchster Handwerkskunst weiterzuschreiben. Unsere Kernwerte – Qualität, Pünktlichkeit und Transparenz – sind das Fundament jedes Projekts, das wir übernehmen.",
                    contact_title: "Starten Sie Ihr Projekt", contact_subtitle: "Erzählen Sie uns von Ihrer Vision. Wir melden uns umgehend für eine kostenlose Erstberatung.",
                    contact_success_title: "Vielen Dank!", contact_success_msg: "Ihre Nachricht wurde gesendet. Wir werden uns in Kürze bei Ihnen melden.",
                    form_name_placeholder: "Ihr Name", form_phone_placeholder: "Ihre Telefonnummer", form_message_placeholder: "Beschreiben Sie kurz Ihr Projekt...", form_send_btn: "Anfrage Senden", form_sending_btn: "Senden...",
                    callback_modal_title: "Kontakt & Rückruf", callback_modal_subtitle: "Wählen Sie Ihre bevorzugte Kontaktmethode.", callback_form_title: "Rückruf anfordern (Österreich)", form_phone_austria_placeholder: "664 1234567", callback_form_btn: "Rückruf anfordern", or_divider: "ODER", messenger_title: "Direkt per Messenger schreiben", whatsapp_btn: "WhatsApp", telegram_btn: "Telegram", callback_success_title: "Danke!", callback_success_msg: "Ihre Rückrufanfrage wurde gesendet. Wir melden uns in Kürze!",
                    footer_about_title: "BauMeister", footer_about_desc: "Ihr zuverlässiger Partner für Sanierung und Renovierung. Wir schaffen Qualität, der Sie vertrauen können.",
                    footer_links_title: "Navigation", footer_contact_title: "Kontakt", copyright: "&copy; 2024 BauMeister. Alle Rechte vorbehalten.",
                    facebook_link_aria: "Besuchen Sie uns auf Facebook", instagram_link_aria: "Folgen Sie uns auf Instagram", telegram_link_aria: "Kontaktieren Sie uns über Telegram",
                },
                en: {
                    page_title: "RenoMaster - Visionary Refurbishment & Renovation",
                    nav_home: "Home", nav_services: "Services", nav_projects: "Projects", nav_about: "About Us", nav_contact: "Contact", request_callback_btn: "Request Callback",
                    hero_title: "Quality that creates space.", hero_subtitle: "From vision to completion – we are your partner for sophisticated refurbishments and renovations throughout Austria.", hero_btn_1: "Request a Project", hero_btn_2: "Our Services",
                    services_title: "Our Core Competencies", services_subtitle: "We combine traditional craftsmanship with the latest technology to guarantee first-class results.",
                    service_1_title: "Complete Refurbishment", service_1_desc: "Holistic modernization of properties, from gutting to the final interior finishing.",
                    service_2_title: "Apartment Renovation", service_2_desc: "From a new coat of paint to the complete redesign of individual living areas or entire apartments.",
                    service_3_title: "Commercial Construction", service_3_desc: "Functional and representative conversions for offices, practices, and retail spaces.",
                    portfolio_title: "Our Work Speaks for Itself", portfolio_subtitle: "Every project is a testament to our passion for quality and aesthetics. Discover a selection of our completed works.",
                    filter_all: "All", filter_houses: "Houses", filter_apartments: "Apartments", filter_offices: "Commercial",
                    portfolio_items: [
                        { category: "houses", title: "Modern Villa" }, { category: "apartments", title: "Attic Apartment" }, { category: "offices", title: "Start-up Office" },
                        { category: "houses", title: "Lakeside Bungalow" }, { category: "apartments", title: "Minimalist Loft" }, { category: "offices", title: "Creative Agency" },
                        { category: "apartments", title: "Old Building Charm" }, { category: "houses", title: "Classic Country House" }
                    ],
                    testimonials_title: "What Our Clients Say",
                    testimonials: [
                        { name: "The Huber Family", text: "Absolutely professional and reliable. Our house conversion was a complete success!"},
                        { name: "M. Schmidt", text: "The result exceeds all expectations. RenoMaster has transformed our apartment into an oasis."},
                        { name: "Anna Wagner", text: "Creative, punctual, and on budget. The best craftsmen we have ever worked with."},
                        { name: "Dr. Eva Klein", text: "The renovation of our practice went smoothly and on schedule. Excellent work!"},
                        { name: "Thomas Bauer", text: "Outstanding quality and great communication throughout the entire project."}
                    ],
                    about_title: "Our Philosophy", about_desc: "We believe that every building tells a story. Our mission is to continue writing these stories with respect, care, and the highest level of craftsmanship. Our core values – Quality, Punctuality, and Transparency – are the foundation of every project we undertake.",
                    contact_title: "Start Your Project", contact_subtitle: "Tell us about your vision. We will contact you promptly for a free initial consultation.",
                    contact_success_title: "Thank You!", contact_success_msg: "Your message has been sent. We will contact you shortly.",
                    form_name_placeholder: "Your Name", form_phone_placeholder: "Your Phone Number", form_message_placeholder: "Briefly describe your project...", form_send_btn: "Send Inquiry", form_sending_btn: "Sending...",
                    callback_modal_title: "Contact & Callback", callback_modal_subtitle: "Choose your preferred contact method.", callback_form_title: "Request a callback (Austria)", form_phone_austria_placeholder: "664 1234567", callback_form_btn: "Request Callback", or_divider: "OR", messenger_title: "Contact us directly via Messenger", whatsapp_btn: "WhatsApp", telegram_btn: "Telegram", callback_success_title: "Thank you!", callback_success_msg: "Your callback request has been sent. We will contact you shortly!",
                    footer_about_title: "RenoMaster", footer_about_desc: "Your reliable partner for refurbishment and renovation. We create quality you can trust.",
                    footer_links_title: "Quick Links", footer_contact_title: "Contact", copyright: "&copy; 2024 RenoMaster. All Rights Reserved.",
                    facebook_link_aria: "Visit us on Facebook", instagram_link_aria: "Follow us on Instagram", telegram_link_aria: "Contact us on Telegram",
                }
            }
        };

        class Cursor {
            constructor() {
                this.cursor = document.querySelector('.cursor');
                this.cursorDot = document.querySelector('.cursor-dot');
                
                window.addEventListener('mousemove', this.move.bind(this));
                document.querySelectorAll('a, button, [role="button"], input, textarea').forEach(el => {
                    el.addEventListener('mouseenter', () => this.cursor.classList.add('hover'));
                    el.addEventListener('mouseleave', () => this.cursor.classList.remove('hover'));
                });
            }

            move(e) {
                this.cursor.style.left = `${e.clientX}px`;
                this.cursor.style.top = `${e.clientY}px`;
                this.cursorDot.style.left = `${e.clientX}px`;
                this.cursorDot.style.top = `${e.clientY}px`;
            }

            setGrab(isGrabbing) {
                this.cursor.classList.toggle('grab', isGrabbing);
            }
        }
        
        class HolographicBlueprint {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.time = 0;
                this.mouse = { x: 0, y: 0 };
                this.rotation = { x: 0.5, y: -0.5 };
                this.targetRotation = { x: 0.5, y: -0.5 };
                this.drawProgress = 0;
                this.isIntersecting = false;
                
                const s = 100; // size
                this.initModel(s);
                this.initParticles();
                this.updateColors();
                this.resize();

                window.addEventListener('resize', () => this.resize());
                this.canvas.addEventListener('mousemove', (e) => this.onMouseMove(e));
                this.canvas.addEventListener('mouseleave', () => this.onMouseLeave());
            }

            initModel(s) {
                 this.vertices = [
                    {x: -s, y: -s, z: -s}, {x: s, y: -s, z: -s}, {x: s, y: s, z: -s}, {x: -s, y: s, z: -s},
                    {x: -s, y: -s, z: s}, {x: s, y: -s, z: s}, {x: s, y: s, z: s}, {x: -s, y: s, z: s},
                    {x: 0, y: -s, z: -s*1.5}, {x: 0, y: s, z: -s*1.5}
                ];
                this.edges = [
                    [0, 1], [1, 2], [2, 3], [3, 0], [4, 5], [5, 6], [6, 7], [7, 4],
                    [0, 4], [1, 5], [2, 6], [3, 7], [0, 8], [1, 8], [2, 9], [3, 9], [8,9]
                ];
            }

            initParticles() {
                this.particles = [];
                for (let i = 0; i < 150; i++) {
                    this.particles.push({
                        x: (Math.random() - 0.5) * 600, y: (Math.random() - 0.5) * 600,
                        z: (Math.random() - 0.5) * 600, size: Math.random() * 2 + 1,
                        speed: Math.random() * 0.1 + 0.05
                    });
                }
            }

            startAnimation() { this.isIntersecting = true; }

            updateColors() {
                const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--color-primary').trim().replace(/ /g, ',');
                this.colors = {
                    line: `rgb(${primaryColor})`, glow: `rgba(${primaryColor}, 0.2)`,
                    particle: `rgba(${primaryColor}, 0.5)`, light: `rgba(${primaryColor}, 0.08)`
                };
            }

            resize() {
                const container = this.canvas.parentElement;
                const size = Math.min(container.clientWidth, 450);
                this.canvas.width = size;
                this.canvas.height = size;
            }
            
            onMouseMove(e) {
                const rect = this.canvas.getBoundingClientRect();
                this.targetRotation.y = (e.clientX - rect.left - this.canvas.width / 2) * 0.003;
                this.targetRotation.x = (e.clientY - rect.top - this.canvas.height / 2) * 0.003;
            }

            onMouseLeave() {
                this.targetRotation.y = 0;
                this.targetRotation.x = 0;
            }

            project(point, rotX, sinX, rotY, sinY) {
                const y1 = point.y * rotX - point.z * sinX, z1 = point.y * sinX + point.z * rotX;
                const x1 = point.x * rotY - z1 * sinY, z2 = point.x * sinY + z1 * rotY;
                const fov = 400;
                const scale = fov / (fov + z2);
                return { x: x1 * scale + this.canvas.width / 2, y: y1 * scale + this.canvas.height / 2, scale };
            }

            draw() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                this.time += 0.01;
                if (this.isIntersecting && this.drawProgress < 1) this.drawProgress += 0.015;

                this.rotation.x += (this.targetRotation.x - this.rotation.x) * 0.05;
                this.rotation.y += (this.targetRotation.y - this.rotation.y) * 0.05;
                this.rotation.x += Math.sin(this.time * 0.5) * 0.0001; this.rotation.y += 0.0008;

                const rotX = Math.cos(this.rotation.x), sinX = Math.sin(this.rotation.x);
                const rotY = Math.cos(this.rotation.y), sinY = Math.sin(this.rotation.y);
                
                this.ctx.fillStyle = this.colors.particle;
                this.particles.forEach(p => {
                    p.z -= p.speed;
                    if (p.z < -300) p.z = 300;
                    const proj = this.project(p, rotX, sinX, rotY, sinY);
                    if (proj.scale > 0) {
                        this.ctx.beginPath(); this.ctx.arc(proj.x, proj.y, p.size * proj.scale, 0, Math.PI * 2); this.ctx.fill();
                    }
                });
                
                const pulse = (Math.sin(this.time * 3) + 1) / 2;
                const projected = this.vertices.map(v => this.project(v, rotX, sinX, rotY, sinY));
                
                this.ctx.strokeStyle = this.colors.line; this.ctx.lineWidth = 1.5 + pulse;
                this.ctx.shadowBlur = 10 + pulse * 10; this.ctx.shadowColor = this.colors.glow;
                
                const edgesToDraw = Math.floor(this.edges.length * this.drawProgress);
                for(let i = 0; i < edgesToDraw; i++) {
                    const e = this.edges[i], p1 = projected[e[0]], p2 = projected[e[1]];
                    this.ctx.beginPath(); this.ctx.moveTo(p1.x, p1.y); this.ctx.lineTo(p2.x, p2.y); this.ctx.stroke();
                }
                this.ctx.shadowBlur = 0;
            }

            run() {
                const loop = () => { this.draw(); requestAnimationFrame(loop); };
                requestAnimationFrame(loop);
            }
        }
        
        class BackgroundShader {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                this.particles = [];
                this.particleCount = 70;
                this.maxDistance = 150;

                this.resize();
                this.initParticles();
                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                this.maxDistance = Math.min(window.innerWidth / 8, 150);
                this.particleCount = Math.floor((this.canvas.width * this.canvas.height) / 20000);
            }

            initParticles() {
                this.particles = [];
                const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--color-primary').trim().replace(/ /g, ',');
                this.lineColor = `rgba(${primaryColor}, 0.5)`;

                for (let i = 0; i < this.particleCount; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        vx: (Math.random() - 0.5) * 0.3,
                        vy: (Math.random() - 0.5) * 0.3
                    });
                }
            }

            draw() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                this.particles.forEach(p1 => {
                    p1.x += p1.vx;
                    p1.y += p1.vy;
                    if (p1.x < 0 || p1.x > this.canvas.width) p1.vx *= -1;
                    if (p1.y < 0 || p1.y > this.canvas.height) p1.vy *= -1;
                });

                for (let i = 0; i < this.particleCount; i++) {
                    for (let j = i; j < this.particleCount; j++) {
                        const p1 = this.particles[i];
                        const p2 = this.particles[j];
                        const dx = p1.x - p2.x;
                        const dy = p1.y - p2.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);

                        if (dist < this.maxDistance) {
                            this.ctx.beginPath();
                            this.ctx.strokeStyle = this.lineColor;
                            this.ctx.globalAlpha = 1 - (dist / this.maxDistance);
                            this.ctx.moveTo(p1.x, p1.y);
                            this.ctx.lineTo(p2.x, p2.y);
                            this.ctx.stroke();
                        }
                    }
                }
                this.ctx.globalAlpha = 1;
            }

            run() {
                const loop = () => {
                    this.draw();
                    requestAnimationFrame(loop);
                };
                requestAnimationFrame(loop);
            }
        }

        class BauMeisterApp {
            constructor(config) {
                this.config = config; this.currentLang = 'de'; this.elements = {};
                this.slider = { currentIndex: 0, itemsPerView: 3, totalItems: 0, isTransitioning: false };
                this.portfolioSlider = { isDown: false, startX: 0, scrollLeft: 0, velocity: 0, currentX: 0, targetX: 0 };
                document.addEventListener('DOMContentLoaded', () => this.init());
            }

            init() {
                this.cacheDOMElements(); this.registerEventListeners(); this.initAssetsAndLinks();
                this.initHeaderObserver(); this.initRevealOnScroll();
                this.initBlueprint(); this.cursor = new Cursor();
                const savedLang = localStorage.getItem('language') || 'de'; this.setLanguage(savedLang);
                this.runPortfolioSlider();
                
                const shaderCanvas = document.getElementById('background-shader');
                if(shaderCanvas) {
                    this.backgroundShader = new BackgroundShader(shaderCanvas);
                    this.backgroundShader.run();
                }
            }

            cacheDOMElements() {
                this.elements.header = document.getElementById('header');
                this.elements.mainNavLinks = document.querySelectorAll('#main-nav .nav-link');
                this.elements.mobileMenu = document.getElementById('mobile-menu');
                this.elements.langDeBtn = document.getElementById('lang-de');
                this.elements.langEnBtn = document.getElementById('lang-en');
                this.elements.portfolioSliderEl = document.getElementById('portfolio-slider');
                this.elements.portfolioSliderWrapper = document.getElementById('portfolio-slider-wrapper');
                this.elements.portfolioFilterBtns = document.querySelectorAll('#portfolio-filter .filter-btn');
                this.elements.portfolioProgressIndicator = document.getElementById('portfolio-progress-indicator');
                this.elements.testimonialSlider = document.getElementById('testimonial-slider');
                this.elements.testimonialContainer = document.querySelector('.testimonial-slider-container');
                this.elements.nextTestimonialBtn = document.getElementById('next-testimonial');
                this.elements.prevTestimonialBtn = document.getElementById('prev-testimonial');
                this.elements.mainContactForm = document.getElementById('main-contact-form');
                this.elements.callbackForm = document.getElementById('callback-form');
                this.elements.callbackModal = document.getElementById('callback-modal');
                this.elements.blueprintCanvas = document.getElementById('blueprint-canvas');
            }

            registerEventListeners() {
                window.addEventListener('scroll', () => this.elements.header.classList.toggle('scrolled', window.scrollY > 50));
                this.elements.langDeBtn.addEventListener('click', () => this.setLanguage('de'));
                this.elements.langEnBtn.addEventListener('click', () => this.setLanguage('en'));
                document.getElementById('mobile-menu-button').addEventListener('click', () => this.elements.mobileMenu.classList.toggle('hidden'));
                this.elements.mobileMenu.querySelectorAll('a, button').forEach(link => {
                    link.addEventListener('click', () => this.elements.mobileMenu.classList.add('hidden'));
                });
                this.elements.portfolioFilterBtns.forEach(button => {
                    button.addEventListener('click', (e) => this.filterPortfolio(e.currentTarget));
                });
                this.elements.nextTestimonialBtn.addEventListener('click', () => this.moveTestimonialSlider('next'));
                this.elements.prevTestimonialBtn.addEventListener('click', () => this.moveTestimonialSlider('prev'));
                this.elements.testimonialSlider.addEventListener('transitionend', () => this.handleTestimonialLoop());
                window.addEventListener('resize', () => this.setupTestimonialSlider());
                this.elements.mainContactForm.addEventListener('submit', (e) => this.handleFormSubmit(e, 'contact'));
                this.elements.callbackForm.addEventListener('submit', (e) => this.handleFormSubmit(e, 'callback'));
                [document.getElementById('callback-modal-trigger'), document.getElementById('callback-modal-trigger-mobile')].forEach(trigger => {
                    trigger.addEventListener('click', () => this.openModal(this.elements.callbackModal));
                });
                document.getElementById('callback-modal-close').addEventListener('click', () => this.closeModal(this.elements.callbackModal));
                this.elements.callbackModal.addEventListener('click', (e) => {
                    if (e.target === this.elements.callbackModal) this.closeModal(this.elements.callbackModal);
                });

                const sliderWrapper = this.elements.portfolioSliderWrapper;
                sliderWrapper.addEventListener('mousedown', (e) => this.portfolioSliderStart(e));
                sliderWrapper.addEventListener('mouseleave', () => this.portfolioSliderEnd());
                sliderWrapper.addEventListener('mouseup', () => this.portfolioSliderEnd());
                sliderWrapper.addEventListener('mousemove', (e) => this.portfolioSliderMove(e));
            }

            initAssetsAndLinks() {
                document.getElementById('hero-bg-img').src = this.config.assets.heroBg;
                document.querySelector('a[data-translate-aria="facebook_link_aria"]').href = this.config.contact.social.facebook;
                document.querySelector('a[data-translate-aria="instagram_link_aria"]').href = this.config.contact.social.instagram;
                document.querySelector('a[data-translate-aria="telegram_link_aria"]').href = this.config.contact.social.telegram;
                document.getElementById('whatsapp-link').href = `https://wa.me/${this.config.contact.whatsappNumber}`;
                document.getElementById('telegram-link').href = `https://t.me/${this.config.contact.telegramUsername}`;
            }

            setLanguage(lang) {
                this.currentLang = lang;
                const content = this.config.content[lang];
                document.documentElement.lang = lang;
                localStorage.setItem('language', lang);
                document.querySelectorAll('[data-translate]').forEach(el => {
                    const key = el.dataset.translate;
                    if (content[key]) {
                         if (el.placeholder !== undefined) el.placeholder = content[key];
                         else el.innerHTML = content[key];
                    }
                });
                document.querySelectorAll('[data-translate-aria]').forEach(el => {
                    const key = el.dataset.translateAria;
                    if (content[key]) el.setAttribute('aria-label', content[key]);
                });
                document.querySelector('a[data-translate="phone_number_footer"]').href = `tel:${this.config.contact.phone}`;
                document.querySelector('a[data-translate="email_footer"]').href = `mailto:${this.config.contact.email}`;
                document.querySelector('[data-translate="address"]').textContent = this.config.contact.address;
                this.elements.langDeBtn.classList.toggle('accent-blue', lang === 'de');
                this.elements.langDeBtn.classList.toggle('text-white', lang === 'de');
                this.elements.langEnBtn.classList.toggle('accent-blue', lang === 'en');
                this.elements.langEnBtn.classList.toggle('text-white', lang === 'en');
                document.title = content.page_title;
                this.populatePortfolio();
                this.populateTestimonials();
                this.setupTestimonialSlider();
                this.activatePortfolioFilter(this.elements.portfolioFilterBtns[0]);
            }
            
            initHeaderObserver() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const id = entry.target.getAttribute('id');
                            this.elements.mainNavLinks.forEach(link => {
                                link.classList.toggle('active', link.dataset.scrollTo === id);
                            });
                        }
                    });
                }, { rootMargin: "-20% 0px -80% 0px" });
                document.querySelectorAll('main section[id]').forEach(section => observer.observe(section));
            }

            initRevealOnScroll() {
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            if (entry.target.id === 'blueprint-container' && this.blueprintInstance) {
                                this.blueprintInstance.startAnimation();
                            }
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.2 });
                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            }

            populatePortfolio() {
                this.elements.portfolioSliderEl.innerHTML = '';
                const items = this.config.content[this.currentLang].portfolio_items;
                items.forEach((item, index) => {
                    const el = document.createElement('div');
                    const category = this.config.content.de.portfolio_items[index].category;
                    el.className = "portfolio-slide";
                    el.dataset.category = category;
                    el.innerHTML = `
                        <div class="portfolio-slide-image" style="background-image: url('${this.config.assets.portfolio[index]}')"></div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-0 left-0 p-6 text-white">
                            <h3 class="text-xl font-semibold">${item.title}</h3>
                        </div>`;
                    this.elements.portfolioSliderEl.appendChild(el);
                });
                this.elements.portfolioSlides = Array.from(this.elements.portfolioSliderEl.children);
                const container = document.querySelector('.container');
                if (container) {
                    const containerWidth = container.clientWidth;
                    this.elements.portfolioSliderEl.style.setProperty('--container-width', `${containerWidth}px`);
                }
            }

            filterPortfolio(button) {
                this.activatePortfolioFilter(button);
                const filter = button.dataset.filter;
                
                let firstVisibleItem = null;
                this.elements.portfolioSlides.forEach(item => {
                    const shouldShow = filter === 'all' || item.dataset.category === filter;
                    item.style.display = shouldShow ? 'block' : 'none';
                    if(shouldShow && !firstVisibleItem) {
                        firstVisibleItem = item;
                    }
                });
                
                if (firstVisibleItem) {
                    this.portfolioSlider.targetX = -firstVisibleItem.offsetLeft;
                }
            }

            activatePortfolioFilter(activeButton) {
                this.elements.portfolioFilterBtns.forEach(btn => btn.classList.remove('accent-blue', 'text-white'));
                activeButton.classList.add('accent-blue', 'text-white');
            }

            portfolioSliderStart(e) {
                this.portfolioSlider.isDown = true;
                this.cursor.setGrab(true);
                this.portfolioSlider.startX = e.pageX;
                this.portfolioSlider.scrollLeft = this.portfolioSlider.currentX;
                this.portfolioSlider.velocity = 0;
            }

            portfolioSliderEnd() {
                this.portfolioSlider.isDown = false;
                this.cursor.setGrab(false);
            }

            portfolioSliderMove(e) {
                if (!this.portfolioSlider.isDown) return;
                e.preventDefault();
                const x = e.pageX;
                const walk = (x - this.portfolioSlider.startX);
                const prevX = this.portfolioSlider.targetX;
                this.portfolioSlider.targetX = this.portfolioSlider.scrollLeft + walk;
                this.portfolioSlider.velocity = this.portfolioSlider.targetX - prevX;
            }
            
            runPortfolioSlider() {
                const slider = this.portfolioSlider;
                const el = this.elements.portfolioSliderEl;
                const wrapper = this.elements.portfolioSliderWrapper;
                
                const update = () => {
                    slider.currentX += (slider.targetX - slider.currentX) * 0.1;
                    if (!slider.isDown) {
                        slider.velocity *= 0.95;
                        slider.targetX += slider.velocity;
                        if(Math.abs(slider.velocity) < 0.1) slider.velocity = 0;
                    }
                    
                    const maxScroll = el.scrollWidth - wrapper.clientWidth;
                    slider.targetX = Math.max(-maxScroll, Math.min(0, slider.targetX));
                    slider.currentX = Math.max(-maxScroll, Math.min(0, slider.currentX));

                    el.style.transform = `translateX(${slider.currentX}px)`;

                    const progress = maxScroll > 0 ? -slider.currentX / maxScroll : 0;
                    this.elements.portfolioProgressIndicator.style.width = `${progress * 100}%`;

                    this.elements.portfolioSlides.forEach(slide => {
                        const image = slide.querySelector('.portfolio-slide-image');
                        const slideRect = slide.getBoundingClientRect();
                        const wrapperRect = wrapper.getBoundingClientRect();
                        
                        const slideCenter = slideRect.left + slideRect.width / 2;
                        const wrapperCenter = wrapperRect.left + wrapperRect.width / 2;
                        const distanceFromCenter = slideCenter - wrapperCenter;
                        const normalizedDistance = distanceFromCenter / wrapperRect.width;
                        const parallaxOffset = normalizedDistance * -100;
                        
                        if(image) image.style.transform = `translateX(${parallaxOffset}px)`;
                    });

                    requestAnimationFrame(update);
                }
                update();
            }
            
            populateTestimonials() {
                const testimonials = this.config.content[this.currentLang].testimonials;
                this.slider.totalItems = testimonials.length;
                const allTestimonials = [...testimonials, ...testimonials, ...testimonials];
                this.elements.testimonialSlider.innerHTML = '';
                allTestimonials.forEach(testimonial => {
                    const slide = document.createElement('div');
                    slide.className = 'testimonial-slide p-4';
                    slide.innerHTML = `<div class="bg-alt p-8 rounded-lg shadow-lg border border-main h-full flex flex-col justify-center"><p class="italic text-heading mb-4">"${testimonial.text}"</p><p class="font-semibold text-main">- ${testimonial.name}</p></div>`;
                    this.elements.testimonialSlider.appendChild(slide);
                });
            }

            setupTestimonialSlider() {
                if (window.innerWidth < 768) this.slider.itemsPerView = 1;
                else if (window.innerWidth < 1024) this.slider.itemsPerView = 2;
                else this.slider.itemsPerView = 3;

                this.slider.currentIndex = this.slider.totalItems;
                this.elements.testimonialSlider.style.transition = 'none';
                this.updateTestimonialSlider();
                setTimeout(() => {
                    this.elements.testimonialSlider.style.transition = 'transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)';
                }, 50);
            }
            
            moveTestimonialSlider(direction) {
                if (this.slider.isTransitioning) return;
                this.slider.isTransitioning = true;
                this.slider.currentIndex += (direction === 'next' ? 1 : -1);
                this.updateTestimonialSlider();
            }

            handleTestimonialLoop() {
                if (this.slider.currentIndex >= this.slider.totalItems * 2) {
                    this.elements.testimonialSlider.style.transition = 'none';
                    this.slider.currentIndex = this.slider.totalItems;
                    this.updateTestimonialSlider();
                }
                if (this.slider.currentIndex <= this.slider.totalItems - 1) {
                    this.elements.testimonialSlider.style.transition = 'none';
                    this.slider.currentIndex = this.slider.totalItems * 2 - 1;
                    this.updateTestimonialSlider();
                }
                setTimeout(() => {
                    this.elements.testimonialSlider.style.transition = 'transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)';
                    this.slider.isTransitioning = false;
                }, 50);
            }

            updateTestimonialSlider() {
                const slideWidth = this.elements.testimonialContainer.clientWidth / this.slider.itemsPerView;
                this.elements.testimonialSlider.style.transform = `translateX(-${this.slider.currentIndex * slideWidth}px)`;
            }
            
            initBlueprint() {
                if (!this.elements.blueprintCanvas) return;
                this.blueprintInstance = new HolographicBlueprint(this.elements.blueprintCanvas);
                this.blueprintInstance.run();
            }
            
            handleFormSubmit(event, formType) {
                event.preventDefault();
                const form = event.target;
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.innerHTML;
                const sendingText = this.config.content[this.currentLang].form_sending_btn || 'Sending...';

                submitBtn.disabled = true;
                submitBtn.innerHTML = sendingText;

                setTimeout(() => {
                    const wrapperId = `${formType}-form-wrapper`;
                    const successId = `${formType}-form-success`;
                    document.getElementById(wrapperId).classList.add('hidden');
                    document.getElementById(successId).classList.remove('hidden');
                    
                    setTimeout(() => {
                        document.getElementById(wrapperId).classList.remove('hidden');
                        document.getElementById(successId).classList.add('hidden');
                        form.reset();
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalBtnText;
                    }, 4000);

                }, 1000);
            }

            openModal(modal) {
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('open', 'opacity-100'), 10);
                document.body.style.overflow = 'hidden';
            }

            closeModal(modal) {
                modal.classList.remove('open', 'opacity-100');
                setTimeout(() => { 
                    modal.classList.add('hidden'); 
                    document.body.style.overflow = 'auto'; 
                }, 300);
            }
        }

        new BauMeisterApp(siteConfig);
    </script>
</body>
</html>

